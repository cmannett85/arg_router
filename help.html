<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.9.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>arg_router: Help</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
    <!--Doxygen Styling-->
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript">DoxygenAwesomeDarkModeToggle.init()</script>
    <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript">DoxygenAwesomeParagraphLink.init()</script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr style="height: 56px;">
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <div id="projectname">arg_router
                                &#160;<span
                                    id="projectnumber">1.4.0</span>
                            </div>
                            <div id="projectbrief">C++ command line argument parsing and routing</div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('help.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Help </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#help_hdt">help_data_type</a><ul><li class="level2"><a href="#help_node_children">help_data_type::children</a></li>
<li class="level2"><a href="#help_hdt_flatten">Flattening</a></li>
</ul>
</li>
<li class="level1"><a href="#help_node">Help Node</a></li>
<li class="level1"><a href="#help_formatter">Help Formatting</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="help_hdt"></a>
help_data_type</h1>
<p>Help output is crucial for most application's command line interface, in <a class="el" href="namespacearg__router.html">arg_router</a> this is implemented by defining a public type called <code>help_data_type</code> that is equivalent to: </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> Flatten&gt;</div>
<div class="line"><span class="keyword">struct </span>help_data_type {</div>
<div class="line">    <span class="keyword">using</span> label = ...; <span class="comment">// Compile-time string</span></div>
<div class="line">    <span class="keyword">using</span> <a class="code" href="namespacearg__router_1_1policy.html#adeab7d3692839fb3dcc864b5cc1730b7">description</a> = ...; <span class="comment">// Compile-time string</span></div>
<div class="line">    <span class="keyword">using</span> children = std::tuple&lt;help_data_type&lt;...&gt;, ...&gt;;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// New in v1.4!</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OwnerNode, <span class="keyword">typename</span> FilterFn&gt;</div>
<div class="line">    [[nodiscard]] <span class="keyword">static</span> vector&lt;runtime_help_data&gt; runtime_children(<span class="keyword">const</span> OwnerNode&amp; owner,</div>
<div class="line">                                                                    FilterFn&amp;&amp; f)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> ...;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespacearg__router_1_1policy_html_adeab7d3692839fb3dcc864b5cc1730b7"><div class="ttname"><a href="namespacearg__router_1_1policy.html#adeab7d3692839fb3dcc864b5cc1730b7">arg_router::policy::description</a></div><div class="ttdeci">constexpr auto description</div><div class="ttdef"><b>Definition:</b> <a href="description_8hpp_source.html#l00050">description.hpp:50</a></div></div>
</div><!-- fragment --><ol type="1">
<li><code>label</code> which provides the node name, and may be empty</li>
<li><code>description</code> which provides the help blurb, and may be empty</li>
<li><code>children</code> which provides a tuple of other <code>help_data_type</code> compatible structure types defining child help data</li>
<li><code>runtime_children(..)</code> is an optional method that is new for v1.4. It allows for runtime modification of the help output (initially to support <a class="el" href="classarg__router_1_1policy_1_1runtime__enable.html">policy::runtime_enable</a>), via skipping child output if the filter parameter returns false for a given child - see <a class="el" href="structarg__router_1_1runtime__help__data.html">runtime_help_data</a> and <a class="el" href="classarg__router_1_1tree__node_1_1default__leaf__help__data__type.html">tree_node::default_leaf_help_data_type</a> for more information</li>
</ol>
<p>Help data is all generated at compile-time and the result held in program static read-only memory. For parse tree leaf-level nodes (e.g. <a class="el" href="classarg__router_1_1flag__t.html">flag_t</a>), the library provides a default alias that generates this data for you: <a class="el" href="classarg__router_1_1tree__node_1_1default__leaf__help__data__type.html">tree_node::default_leaf_help_data_type</a>.</p>
<h2><a class="anchor" id="help_node_children"></a>
help_data_type::children</h2>
<p>The <code>help_data_type::children</code> type can be seen as the child nodes in a 'help tree'. Typically it will carry nothing as not flattening is the default and most nodes in the parse tree are leaves (flags, args, etc.), the most common scenario where this is <em>not</em> true is when defined by a mode-like type in which case <code>children</code> will be a tuple of the child parse tree node's <code>help_data_type</code>s.</p>
<p>An outlier to the above is <a class="el" href="classarg__router_1_1dependency_1_1one__of__t.html">dependency::one_of_t</a> and <a class="el" href="classarg__router_1_1dependency_1_1alias__group__t.html">dependency::alias_group_t</a>, where the <code>help_data_type::children</code> tuple elements are the still the node's children, but it will ignore the flattening NTTP.</p>
<h2><a class="anchor" id="help_hdt_flatten"></a>
Flattening</h2>
<p>The boolean NTTP the <code>help_data_type</code> accepts is for 'flattening'. 'Flattened' help output is where all the child help data is displayed with the parent, rather than only the parent output being displayed and the children help data having to be explicitly requested through the command line - see the README.md for examples of this.</p>
<p>From the node developer's point of view, typically a non-flattened <code>help_data_type</code> would simply empty the children tuple (the parameter is ignored for the <a class="el" href="classarg__router_1_1tree__node_1_1default__leaf__help__data__type.html">tree_node::default_leaf_help_data_type</a> as it will never have children).</p>
<h1><a class="anchor" id="help_node"></a>
Help Node</h1>
<p>Obviously the types don't do anything on their own, they are read by the <a class="el" href="classarg__router_1_1help__t.html">help_t</a> node which at <em>runtime</em> collects and formats the complete output. The help node is an argument-like node (e.g. <a class="el" href="classarg__router_1_1arg__t.html">arg_t</a>), it accepts a chain of mode-like type names through the parse tree to show only the help for that node (see the README.md for examples of this). To achieve this, in the node's parse method it iteratively searches through the tree's descendents (starting at the root), the last node requested has it's help data shown.</p>
<p>The <a class="el" href="classarg__router_1_1help__t.html">help_t</a> node checks for the presence of a <a class="el" href="structarg__router_1_1policy_1_1flatten__help__t.html">policy::flatten_help_t</a> policy - flattening is determined at compile-time.</p>
<h1><a class="anchor" id="help_formatter"></a>
Help Formatting</h1>
<p>By default <a class="el" href="classarg__router_1_1help__t.html">help_t</a> will use <a class="el" href="classarg__router_1_1policy_1_1default__help__formatter__t.html">policy::default_help_formatter_t</a>, which generates basic output as shown by the examples in the README. The formatter delegates much of the formatting duty to formatter components:</p><ul>
<li><b>LineFormatter</b> <br  />
As the same suggests this controls the printing of the argument output. It is called once per node. default_help_formatter_t will use <a class="el" href="classarg__router_1_1policy_1_1help__formatter__component_1_1default__line__formatter.html">policy::help_formatter_component::default_line_formatter</a> by default.</li>
<li><b>PreambleFormatter</b> <br  />
This controls the printing of the preamble, which typically consists of the program name, version, and introduction text. These are provided by <a class="el" href="classarg__router_1_1policy_1_1program__name__t.html">policy::program_name_t</a>, etc. that are associated with the owning <a class="el" href="classarg__router_1_1help__t.html">help_t</a>. default_help_formatter_t will use <a class="el" href="classarg__router_1_1policy_1_1help__formatter__component_1_1default__preamble__formatter.html">policy::help_formatter_component::default_preamble_formatter</a> by default.</li>
<li><b>AddendumFormatter</b> <br  />
The controls the printing of the addendum, which text printed <em>after</em> the argument documentation. The text is provided by the <a class="el" href="classarg__router_1_1policy_1_1program__addendum__t.html">policy::program_addendum_t</a> associated with the owning <a class="el" href="classarg__router_1_1help__t.html">help_t</a>. default_help_formatter_t will use <a class="el" href="classarg__router_1_1policy_1_1help__formatter__component_1_1default__addendum__formatter.html">policy::help_formatter_component::default_addendum_formatter</a> by default.</li>
</ul>
<p>You will notice that there's no API information here, that's because the API is not fixed as the formatter components belong the formatter. So minor changes can be achieved via writing your own formatter components, whilst more dramatic changes will require a new formatter.</p>
<p>The default line formatter (<a class="el" href="classarg__router_1_1policy_1_1help__formatter__component_1_1default__line__formatter.html">policy::help_formatter_component::default_line_formatter</a>) is quite basic, so a colour version is provided in the library too: <a class="el" href="classarg__router_1_1policy_1_1help__formatter__component_1_1colour__line__formatter.html">policy::help_formatter_component::colour_line_formatter</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
